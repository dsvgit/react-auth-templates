import{a as e,j as l,F as v,c as w,R as b}from"./client-ad971829.js";import{u as N,a as u,b as p,c as m,R as y,d as c,e as S,f as h,g as P,N as d,O as x,A as R,m as A,B as k,h as B}from"./getBasename-2104091d.js";function g(s){const{text:a,onSubmit:t}=s,{register:n,handleSubmit:r,formState:{errors:i}}=N();return console.log(i),e("main",{className:"form-signin w-100 m-auto",children:l("form",{onSubmit:r(t),children:[e("h1",{className:"h3 mb-3 fw-normal",children:a}),l("div",{className:"form-floating",children:[e("input",{required:!0,type:"email",className:"form-control",id:"floatingInput",placeholder:"name@example.com",...n("email",{required:!0})}),e("label",{htmlFor:"floatingInput",children:"Email address"})]}),l("div",{className:"form-floating",children:[e("input",{required:!0,type:"password",className:"form-control",id:"floatingPassword",placeholder:"Password",...n("password",{required:!0})}),e("label",{htmlFor:"floatingPassword",children:"Password"})]}),e("button",{className:"w-100 btn btn-lg btn-primary",type:"submit",children:a})]})})}function q(){var r,i;const s=u(),a=p(),{authClient:t}=m(),n=((i=(r=a.state)==null?void 0:r.from)==null?void 0:i.pathname)||"/";return e(g,{text:"Sign up",onSubmit:async o=>{const{data:f,error:I}=await t.signUp({email:o.email,password:o.password});console.log(f),t.signInWithPassword({email:o.email,password:o.password}),s(n,{replace:!0})}})}function C(){var r,i;const s=u(),a=p(),{authClient:t}=m(),n=((i=(r=a.state)==null?void 0:r.from)==null?void 0:i.pathname)||"/";return e(g,{text:"Sign in",onSubmit:async o=>{await t.signInWithPassword({email:o.email,password:o.password}),s(n,{replace:!0})}})}function F(){return e(y,{children:l(c,{element:e(L,{}),children:[e(c,{path:"/",element:e(S,{children:e("div",{children:"Main page"})})}),e(c,{path:"/signup",element:e(h,{children:e(q,{})})}),e(c,{path:"/login",element:e(h,{children:e(C,{})})}),e(c,{path:"*",element:e("div",{children:"Page Not Found"})})]})})}function L(){const{authClient:s}=m(),{user:a}=P(),t=u();return l(v,{children:[e("header",{className:"mb-auto",children:l("div",{children:[e("h3",{className:"float-md-start mb-0",children:e(d,{className:"nav-link",to:"/",children:"Bootstrap demo"})}),!a&&l("nav",{className:"nav nav-masthead justify-content-center float-md-end",children:[e(d,{className:"nav-link fw-bold py-1 px-0","aria-current":"page",to:"signup",children:"Sign up"}),e(d,{className:"nav-link fw-bold py-1 px-0",to:"/login",children:"Sign in"})]}),a&&e("nav",{className:"nav nav-masthead justify-content-center float-md-end",children:e("a",{className:"nav-link fw-bold py-1 px-0 active","aria-current":"page",href:"src#",onClick:async n=>{n.preventDefault(),await s.signOut(),t("/")},children:"Log out"})})]})}),e(x,{}),e("footer",{className:"mt-auto text-white-50",children:e("p",{})})]})}function j(){return e(R,{authClient:A,renderLoader:()=>e("div",{children:"loading..."}),children:e(k,{basename:B("https://dsvgit.github.io/react-auth-templates/","bootstrap"),children:e(F,{})})})}w.createRoot(document.getElementById("root")).render(e(b.StrictMode,{children:e(j,{})}));
